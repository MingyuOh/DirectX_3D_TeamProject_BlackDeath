#pragma once

#include "LAParticleRender.h"
#include "BGrenade.h"

class LAParticleBomb : public LAParticleRender
{
public:
	vector<BGrenade>			m_Grenade;
	vector<ParticleSystem>		m_ParticleSystem;
	bool						m_bIsBomb;
public:
	//--------------------------------------------------------------------------------------
	// 수류탄 / 파티클 인잇
	//--------------------------------------------------------------------------------------
	void						ParticleInit(ObjectTableLoadData& rTableLoadData);
	//--------------------------------------------------------------------------------------
	// 수류탄 프레임
	//--------------------------------------------------------------------------------------
	void						GrenadeFrame();
	TVector3					GetGrenadePosition();
	bool						GetCheckBomb();
	//--------------------------------------------------------------------------------------
	// 수류탄 파티클 프레임
	//--------------------------------------------------------------------------------------
	void						ParticleFrame();
	//--------------------------------------------------------------------------------------
	// 수류탄 파티클 렌더링
	//--------------------------------------------------------------------------------------
	void						ParticleRender();
	//--------------------------------------------------------------------------------------
	// 수류탄 / 파티클 릴리즈
	//--------------------------------------------------------------------------------------
	void						ParticleRelease();
	//--------------------------------------------------------------------------------------
	// 수류탄 파티클 렌더링
	//--------------------------------------------------------------------------------------
	void						DrawParticle();
	//--------------------------------------------------------------------------------------
	// 수류탄 / 파티클 위치 셋팅 함수
	//--------------------------------------------------------------------------------------
	void						SetParticlePos(TVector3 vParticlePos);
	//--------------------------------------------------------------------------------------
	// 수류탄 / 파티클 디렉션 셋팅 함수
	//--------------------------------------------------------------------------------------
	void						SetParticleDir(TVector3 vParticleDir);
	//--------------------------------------------------------------------------------------
	// 수류탄 재장전 함수
	//--------------------------------------------------------------------------------------
	void						ReloadGrenade(int iBulletCount, TVector3 vParticlePos, TVector3 vParticleDir);
	//--------------------------------------------------------------------------------------
	// 수류탄 충돌처리
	//--------------------------------------------------------------------------------------
	bool						CollisionObjectInBombRadian(TVector3 vObjPos);
public:
	LAParticleBomb();
	virtual ~LAParticleBomb();
};

