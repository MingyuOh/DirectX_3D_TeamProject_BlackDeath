#pragma once

#include "LAParticleRender.h"

class LAParticleRifle : public LAParticleRender
{
public:
	vector<BBullet>				m_Bullet;
	int							m_iShotIndex;
	vector<ParticleSystem>		m_ParticleSystem;
public:
	//--------------------------------------------------------------------------------------
	// 라이플 총알 / 파티클 인잇
	//--------------------------------------------------------------------------------------
	void						ParticleInit(ObjectTableLoadData& rTableLoadData);
	//--------------------------------------------------------------------------------------
	// 라이플 파티클 프레임
	//--------------------------------------------------------------------------------------
	void						ParticleFrame();
	//--------------------------------------------------------------------------------------
	// 라이플 총알 / 파티클 렌더링
	//--------------------------------------------------------------------------------------
	void						ParticleRender();
	//--------------------------------------------------------------------------------------
	// 라이플 총알 / 파티클 릴리즈
	//--------------------------------------------------------------------------------------
	void						ParticleRelease();
	//--------------------------------------------------------------------------------------
	// 라이플 파티클 렌더링
	//--------------------------------------------------------------------------------------
	void						DrawParticle();
	//--------------------------------------------------------------------------------------
	// 라이플 총알 프레임
	//--------------------------------------------------------------------------------------
	void						RifleFrame();
	//--------------------------------------------------------------------------------------
	// 라이플 발사 함수
	//--------------------------------------------------------------------------------------
	void						Shot();
	//--------------------------------------------------------------------------------------
	// 라이플 총알 / 파티클 위치 셋팅 함수
	//--------------------------------------------------------------------------------------
	void						SetParticlePos(TVector3 vParticlePos);
	//--------------------------------------------------------------------------------------
	// 라이플 총알 / 파티클 디렉션 셋팅 함수
	//--------------------------------------------------------------------------------------
	void						SetParticleDir(TVector3 vParticleDir);
	//--------------------------------------------------------------------------------------
	// 라이플 총알 충돌처리 함수
	//--------------------------------------------------------------------------------------
	bool						ProcessingCollision(BBoundingBox& bRelativeBox, TVector3& vPos);
	//--------------------------------------------------------------------------------------
	// 라이플 총알 재장전 함수
	//--------------------------------------------------------------------------------------
	void						ReloadBullet(int iBulletCount);
public:
	LAParticleRifle();
	virtual ~LAParticleRifle();
};

